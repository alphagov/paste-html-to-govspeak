{"version":3,"file":"paste-html-to-markdown.js","sources":["../node_modules/turndown/lib/turndown.es.js","../src/to-govspeak.js","../node_modules/insert-text-at-cursor/index.js","../src/legacy-html-from-paste.js","../src/main.js"],"sourcesContent":["function extend (destination) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    for (var key in source) {\n      if (source.hasOwnProperty(key)) destination[key] = source[key];\n    }\n  }\n  return destination\n}\n\nfunction repeat (character, count) {\n  return Array(count + 1).join(character)\n}\n\nvar blockElements = [\n  'address', 'article', 'aside', 'audio', 'blockquote', 'body', 'canvas',\n  'center', 'dd', 'dir', 'div', 'dl', 'dt', 'fieldset', 'figcaption',\n  'figure', 'footer', 'form', 'frameset', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6',\n  'header', 'hgroup', 'hr', 'html', 'isindex', 'li', 'main', 'menu', 'nav',\n  'noframes', 'noscript', 'ol', 'output', 'p', 'pre', 'section', 'table',\n  'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'ul'\n];\n\nfunction isBlock (node) {\n  return blockElements.indexOf(node.nodeName.toLowerCase()) !== -1\n}\n\nvar voidElements = [\n  'area', 'base', 'br', 'col', 'command', 'embed', 'hr', 'img', 'input',\n  'keygen', 'link', 'meta', 'param', 'source', 'track', 'wbr'\n];\n\nfunction isVoid (node) {\n  return voidElements.indexOf(node.nodeName.toLowerCase()) !== -1\n}\n\nvar voidSelector = voidElements.join();\nfunction hasVoid (node) {\n  return node.querySelector && node.querySelector(voidSelector)\n}\n\nvar rules = {};\n\nrules.paragraph = {\n  filter: 'p',\n\n  replacement: function (content) {\n    return '\\n\\n' + content + '\\n\\n'\n  }\n};\n\nrules.lineBreak = {\n  filter: 'br',\n\n  replacement: function (content, node, options) {\n    return options.br + '\\n'\n  }\n};\n\nrules.heading = {\n  filter: ['h1', 'h2', 'h3', 'h4', 'h5', 'h6'],\n\n  replacement: function (content, node, options) {\n    var hLevel = Number(node.nodeName.charAt(1));\n\n    if (options.headingStyle === 'setext' && hLevel < 3) {\n      var underline = repeat((hLevel === 1 ? '=' : '-'), content.length);\n      return (\n        '\\n\\n' + content + '\\n' + underline + '\\n\\n'\n      )\n    } else {\n      return '\\n\\n' + repeat('#', hLevel) + ' ' + content + '\\n\\n'\n    }\n  }\n};\n\nrules.blockquote = {\n  filter: 'blockquote',\n\n  replacement: function (content) {\n    content = content.replace(/^\\n+|\\n+$/g, '');\n    content = content.replace(/^/gm, '> ');\n    return '\\n\\n' + content + '\\n\\n'\n  }\n};\n\nrules.list = {\n  filter: ['ul', 'ol'],\n\n  replacement: function (content, node) {\n    var parent = node.parentNode;\n    if (parent.nodeName === 'LI' && parent.lastElementChild === node) {\n      return '\\n' + content\n    } else {\n      return '\\n\\n' + content + '\\n\\n'\n    }\n  }\n};\n\nrules.listItem = {\n  filter: 'li',\n\n  replacement: function (content, node, options) {\n    content = content\n      .replace(/^\\n+/, '') // remove leading newlines\n      .replace(/\\n+$/, '\\n') // replace trailing newlines with just a single one\n      .replace(/\\n/gm, '\\n    '); // indent\n    var prefix = options.bulletListMarker + '   ';\n    var parent = node.parentNode;\n    if (parent.nodeName === 'OL') {\n      var start = parent.getAttribute('start');\n      var index = Array.prototype.indexOf.call(parent.children, node);\n      prefix = (start ? Number(start) + index : index + 1) + '.  ';\n    }\n    return (\n      prefix + content + (node.nextSibling && !/\\n$/.test(content) ? '\\n' : '')\n    )\n  }\n};\n\nrules.indentedCodeBlock = {\n  filter: function (node, options) {\n    return (\n      options.codeBlockStyle === 'indented' &&\n      node.nodeName === 'PRE' &&\n      node.firstChild &&\n      node.firstChild.nodeName === 'CODE'\n    )\n  },\n\n  replacement: function (content, node, options) {\n    return (\n      '\\n\\n    ' +\n      node.firstChild.textContent.replace(/\\n/g, '\\n    ') +\n      '\\n\\n'\n    )\n  }\n};\n\nrules.fencedCodeBlock = {\n  filter: function (node, options) {\n    return (\n      options.codeBlockStyle === 'fenced' &&\n      node.nodeName === 'PRE' &&\n      node.firstChild &&\n      node.firstChild.nodeName === 'CODE'\n    )\n  },\n\n  replacement: function (content, node, options) {\n    var className = node.firstChild.className || '';\n    var language = (className.match(/language-(\\S+)/) || [null, ''])[1];\n\n    return (\n      '\\n\\n' + options.fence + language + '\\n' +\n      node.firstChild.textContent +\n      '\\n' + options.fence + '\\n\\n'\n    )\n  }\n};\n\nrules.horizontalRule = {\n  filter: 'hr',\n\n  replacement: function (content, node, options) {\n    return '\\n\\n' + options.hr + '\\n\\n'\n  }\n};\n\nrules.inlineLink = {\n  filter: function (node, options) {\n    return (\n      options.linkStyle === 'inlined' &&\n      node.nodeName === 'A' &&\n      node.getAttribute('href')\n    )\n  },\n\n  replacement: function (content, node) {\n    var href = node.getAttribute('href');\n    var title = node.title ? ' \"' + node.title + '\"' : '';\n    return '[' + content + '](' + href + title + ')'\n  }\n};\n\nrules.referenceLink = {\n  filter: function (node, options) {\n    return (\n      options.linkStyle === 'referenced' &&\n      node.nodeName === 'A' &&\n      node.getAttribute('href')\n    )\n  },\n\n  replacement: function (content, node, options) {\n    var href = node.getAttribute('href');\n    var title = node.title ? ' \"' + node.title + '\"' : '';\n    var replacement;\n    var reference;\n\n    switch (options.linkReferenceStyle) {\n      case 'collapsed':\n        replacement = '[' + content + '][]';\n        reference = '[' + content + ']: ' + href + title;\n        break\n      case 'shortcut':\n        replacement = '[' + content + ']';\n        reference = '[' + content + ']: ' + href + title;\n        break\n      default:\n        var id = this.references.length + 1;\n        replacement = '[' + content + '][' + id + ']';\n        reference = '[' + id + ']: ' + href + title;\n    }\n\n    this.references.push(reference);\n    return replacement\n  },\n\n  references: [],\n\n  append: function (options) {\n    var references = '';\n    if (this.references.length) {\n      references = '\\n\\n' + this.references.join('\\n') + '\\n\\n';\n      this.references = []; // Reset references\n    }\n    return references\n  }\n};\n\nrules.emphasis = {\n  filter: ['em', 'i'],\n\n  replacement: function (content, node, options) {\n    if (!content.trim()) return ''\n    return options.emDelimiter + content + options.emDelimiter\n  }\n};\n\nrules.strong = {\n  filter: ['strong', 'b'],\n\n  replacement: function (content, node, options) {\n    if (!content.trim()) return ''\n    return options.strongDelimiter + content + options.strongDelimiter\n  }\n};\n\nrules.code = {\n  filter: function (node) {\n    var hasSiblings = node.previousSibling || node.nextSibling;\n    var isCodeBlock = node.parentNode.nodeName === 'PRE' && !hasSiblings;\n\n    return node.nodeName === 'CODE' && !isCodeBlock\n  },\n\n  replacement: function (content) {\n    if (!content.trim()) return ''\n\n    var delimiter = '`';\n    var leadingSpace = '';\n    var trailingSpace = '';\n    var matches = content.match(/`+/gm);\n    if (matches) {\n      if (/^`/.test(content)) leadingSpace = ' ';\n      if (/`$/.test(content)) trailingSpace = ' ';\n      while (matches.indexOf(delimiter) !== -1) delimiter = delimiter + '`';\n    }\n\n    return delimiter + leadingSpace + content + trailingSpace + delimiter\n  }\n};\n\nrules.image = {\n  filter: 'img',\n\n  replacement: function (content, node) {\n    var alt = node.alt || '';\n    var src = node.getAttribute('src') || '';\n    var title = node.title || '';\n    var titlePart = title ? ' \"' + title + '\"' : '';\n    return src ? '![' + alt + ']' + '(' + src + titlePart + ')' : ''\n  }\n};\n\n/**\n * Manages a collection of rules used to convert HTML to Markdown\n */\n\nfunction Rules (options) {\n  this.options = options;\n  this._keep = [];\n  this._remove = [];\n\n  this.blankRule = {\n    replacement: options.blankReplacement\n  };\n\n  this.keepReplacement = options.keepReplacement;\n\n  this.defaultRule = {\n    replacement: options.defaultReplacement\n  };\n\n  this.array = [];\n  for (var key in options.rules) this.array.push(options.rules[key]);\n}\n\nRules.prototype = {\n  add: function (key, rule) {\n    this.array.unshift(rule);\n  },\n\n  keep: function (filter) {\n    this._keep.unshift({\n      filter: filter,\n      replacement: this.keepReplacement\n    });\n  },\n\n  remove: function (filter) {\n    this._remove.unshift({\n      filter: filter,\n      replacement: function () {\n        return ''\n      }\n    });\n  },\n\n  forNode: function (node) {\n    if (node.isBlank) return this.blankRule\n    var rule;\n\n    if ((rule = findRule(this.array, node, this.options))) return rule\n    if ((rule = findRule(this._keep, node, this.options))) return rule\n    if ((rule = findRule(this._remove, node, this.options))) return rule\n\n    return this.defaultRule\n  },\n\n  forEach: function (fn) {\n    for (var i = 0; i < this.array.length; i++) fn(this.array[i], i);\n  }\n};\n\nfunction findRule (rules, node, options) {\n  for (var i = 0; i < rules.length; i++) {\n    var rule = rules[i];\n    if (filterValue(rule, node, options)) return rule\n  }\n  return void 0\n}\n\nfunction filterValue (rule, node, options) {\n  var filter = rule.filter;\n  if (typeof filter === 'string') {\n    if (filter === node.nodeName.toLowerCase()) return true\n  } else if (Array.isArray(filter)) {\n    if (filter.indexOf(node.nodeName.toLowerCase()) > -1) return true\n  } else if (typeof filter === 'function') {\n    if (filter.call(rule, node, options)) return true\n  } else {\n    throw new TypeError('`filter` needs to be a string, array, or function')\n  }\n}\n\n/**\n * The collapseWhitespace function is adapted from collapse-whitespace\n * by Luc Thevenard.\n *\n * The MIT License (MIT)\n *\n * Copyright (c) 2014 Luc Thevenard <lucthevenard@gmail.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/**\n * collapseWhitespace(options) removes extraneous whitespace from an the given element.\n *\n * @param {Object} options\n */\nfunction collapseWhitespace (options) {\n  var element = options.element;\n  var isBlock = options.isBlock;\n  var isVoid = options.isVoid;\n  var isPre = options.isPre || function (node) {\n    return node.nodeName === 'PRE'\n  };\n\n  if (!element.firstChild || isPre(element)) return\n\n  var prevText = null;\n  var prevVoid = false;\n\n  var prev = null;\n  var node = next(prev, element, isPre);\n\n  while (node !== element) {\n    if (node.nodeType === 3 || node.nodeType === 4) { // Node.TEXT_NODE or Node.CDATA_SECTION_NODE\n      var text = node.data.replace(/[ \\r\\n\\t]+/g, ' ');\n\n      if ((!prevText || / $/.test(prevText.data)) &&\n          !prevVoid && text[0] === ' ') {\n        text = text.substr(1);\n      }\n\n      // `text` might be empty at this point.\n      if (!text) {\n        node = remove(node);\n        continue\n      }\n\n      node.data = text;\n\n      prevText = node;\n    } else if (node.nodeType === 1) { // Node.ELEMENT_NODE\n      if (isBlock(node) || node.nodeName === 'BR') {\n        if (prevText) {\n          prevText.data = prevText.data.replace(/ $/, '');\n        }\n\n        prevText = null;\n        prevVoid = false;\n      } else if (isVoid(node)) {\n        // Avoid trimming space around non-block, non-BR void elements.\n        prevText = null;\n        prevVoid = true;\n      }\n    } else {\n      node = remove(node);\n      continue\n    }\n\n    var nextNode = next(prev, node, isPre);\n    prev = node;\n    node = nextNode;\n  }\n\n  if (prevText) {\n    prevText.data = prevText.data.replace(/ $/, '');\n    if (!prevText.data) {\n      remove(prevText);\n    }\n  }\n}\n\n/**\n * remove(node) removes the given node from the DOM and returns the\n * next node in the sequence.\n *\n * @param {Node} node\n * @return {Node} node\n */\nfunction remove (node) {\n  var next = node.nextSibling || node.parentNode;\n\n  node.parentNode.removeChild(node);\n\n  return next\n}\n\n/**\n * next(prev, current, isPre) returns the next node in the sequence, given the\n * current and previous nodes.\n *\n * @param {Node} prev\n * @param {Node} current\n * @param {Function} isPre\n * @return {Node}\n */\nfunction next (prev, current, isPre) {\n  if ((prev && prev.parentNode === current) || isPre(current)) {\n    return current.nextSibling || current.parentNode\n  }\n\n  return current.firstChild || current.nextSibling || current.parentNode\n}\n\n/*\n * Set up window for Node.js\n */\n\nvar root = (typeof window !== 'undefined' ? window : {});\n\n/*\n * Parsing HTML strings\n */\n\nfunction canParseHTMLNatively () {\n  var Parser = root.DOMParser;\n  var canParse = false;\n\n  // Adapted from https://gist.github.com/1129031\n  // Firefox/Opera/IE throw errors on unsupported types\n  try {\n    // WebKit returns null on unsupported types\n    if (new Parser().parseFromString('', 'text/html')) {\n      canParse = true;\n    }\n  } catch (e) {}\n\n  return canParse\n}\n\nfunction createHTMLParser () {\n  var Parser = function () {};\n\n  {\n    var JSDOM = require('jsdom').JSDOM;\n    Parser.prototype.parseFromString = function (string) {\n      return new JSDOM(string).window.document\n    };\n  }\n  return Parser\n}\n\nvar HTMLParser = canParseHTMLNatively() ? root.DOMParser : createHTMLParser();\n\nfunction RootNode (input) {\n  var root;\n  if (typeof input === 'string') {\n    var doc = htmlParser().parseFromString(\n      // DOM parsers arrange elements in the <head> and <body>.\n      // Wrapping in a custom element ensures elements are reliably arranged in\n      // a single element.\n      '<x-turndown id=\"turndown-root\">' + input + '</x-turndown>',\n      'text/html'\n    );\n    root = doc.getElementById('turndown-root');\n  } else {\n    root = input.cloneNode(true);\n  }\n  collapseWhitespace({\n    element: root,\n    isBlock: isBlock,\n    isVoid: isVoid\n  });\n\n  return root\n}\n\nvar _htmlParser;\nfunction htmlParser () {\n  _htmlParser = _htmlParser || new HTMLParser();\n  return _htmlParser\n}\n\nfunction Node (node) {\n  node.isBlock = isBlock(node);\n  node.isCode = node.nodeName.toLowerCase() === 'code' || node.parentNode.isCode;\n  node.isBlank = isBlank(node);\n  node.flankingWhitespace = flankingWhitespace(node);\n  return node\n}\n\nfunction isBlank (node) {\n  return (\n    ['A', 'TH', 'TD', 'IFRAME', 'SCRIPT', 'AUDIO', 'VIDEO'].indexOf(node.nodeName) === -1 &&\n    /^\\s*$/i.test(node.textContent) &&\n    !isVoid(node) &&\n    !hasVoid(node)\n  )\n}\n\nfunction flankingWhitespace (node) {\n  var leading = '';\n  var trailing = '';\n\n  if (!node.isBlock) {\n    var hasLeading = /^[ \\r\\n\\t]/.test(node.textContent);\n    var hasTrailing = /[ \\r\\n\\t]$/.test(node.textContent);\n\n    if (hasLeading && !isFlankedByWhitespace('left', node)) {\n      leading = ' ';\n    }\n    if (hasTrailing && !isFlankedByWhitespace('right', node)) {\n      trailing = ' ';\n    }\n  }\n\n  return { leading: leading, trailing: trailing }\n}\n\nfunction isFlankedByWhitespace (side, node) {\n  var sibling;\n  var regExp;\n  var isFlanked;\n\n  if (side === 'left') {\n    sibling = node.previousSibling;\n    regExp = / $/;\n  } else {\n    sibling = node.nextSibling;\n    regExp = /^ /;\n  }\n\n  if (sibling) {\n    if (sibling.nodeType === 3) {\n      isFlanked = regExp.test(sibling.nodeValue);\n    } else if (sibling.nodeType === 1 && !isBlock(sibling)) {\n      isFlanked = regExp.test(sibling.textContent);\n    }\n  }\n  return isFlanked\n}\n\nvar reduce = Array.prototype.reduce;\nvar leadingNewLinesRegExp = /^\\n*/;\nvar trailingNewLinesRegExp = /\\n*$/;\nvar escapes = [\n  [/\\\\/g, '\\\\\\\\'],\n  [/\\*/g, '\\\\*'],\n  [/^-/g, '\\\\-'],\n  [/^\\+ /g, '\\\\+ '],\n  [/^(=+)/g, '\\\\$1'],\n  [/^(#{1,6}) /g, '\\\\$1 '],\n  [/`/g, '\\\\`'],\n  [/^~~~/g, '\\\\~~~'],\n  [/\\[/g, '\\\\['],\n  [/\\]/g, '\\\\]'],\n  [/^>/g, '\\\\>'],\n  [/_/g, '\\\\_'],\n  [/^(\\d+)\\. /g, '$1\\\\. ']\n];\n\nfunction TurndownService (options) {\n  if (!(this instanceof TurndownService)) return new TurndownService(options)\n\n  var defaults = {\n    rules: rules,\n    headingStyle: 'setext',\n    hr: '* * *',\n    bulletListMarker: '*',\n    codeBlockStyle: 'indented',\n    fence: '```',\n    emDelimiter: '_',\n    strongDelimiter: '**',\n    linkStyle: 'inlined',\n    linkReferenceStyle: 'full',\n    br: '  ',\n    blankReplacement: function (content, node) {\n      return node.isBlock ? '\\n\\n' : ''\n    },\n    keepReplacement: function (content, node) {\n      return node.isBlock ? '\\n\\n' + node.outerHTML + '\\n\\n' : node.outerHTML\n    },\n    defaultReplacement: function (content, node) {\n      return node.isBlock ? '\\n\\n' + content + '\\n\\n' : content\n    }\n  };\n  this.options = extend({}, defaults, options);\n  this.rules = new Rules(this.options);\n}\n\nTurndownService.prototype = {\n  /**\n   * The entry point for converting a string or DOM node to Markdown\n   * @public\n   * @param {String|HTMLElement} input The string or DOM node to convert\n   * @returns A Markdown representation of the input\n   * @type String\n   */\n\n  turndown: function (input) {\n    if (!canConvert(input)) {\n      throw new TypeError(\n        input + ' is not a string, or an element/document/fragment node.'\n      )\n    }\n\n    if (input === '') return ''\n\n    var output = process.call(this, new RootNode(input));\n    return postProcess.call(this, output)\n  },\n\n  /**\n   * Add one or more plugins\n   * @public\n   * @param {Function|Array} plugin The plugin or array of plugins to add\n   * @returns The Turndown instance for chaining\n   * @type Object\n   */\n\n  use: function (plugin) {\n    if (Array.isArray(plugin)) {\n      for (var i = 0; i < plugin.length; i++) this.use(plugin[i]);\n    } else if (typeof plugin === 'function') {\n      plugin(this);\n    } else {\n      throw new TypeError('plugin must be a Function or an Array of Functions')\n    }\n    return this\n  },\n\n  /**\n   * Adds a rule\n   * @public\n   * @param {String} key The unique key of the rule\n   * @param {Object} rule The rule\n   * @returns The Turndown instance for chaining\n   * @type Object\n   */\n\n  addRule: function (key, rule) {\n    this.rules.add(key, rule);\n    return this\n  },\n\n  /**\n   * Keep a node (as HTML) that matches the filter\n   * @public\n   * @param {String|Array|Function} filter The unique key of the rule\n   * @returns The Turndown instance for chaining\n   * @type Object\n   */\n\n  keep: function (filter) {\n    this.rules.keep(filter);\n    return this\n  },\n\n  /**\n   * Remove a node that matches the filter\n   * @public\n   * @param {String|Array|Function} filter The unique key of the rule\n   * @returns The Turndown instance for chaining\n   * @type Object\n   */\n\n  remove: function (filter) {\n    this.rules.remove(filter);\n    return this\n  },\n\n  /**\n   * Escapes Markdown syntax\n   * @public\n   * @param {String} string The string to escape\n   * @returns A string with Markdown syntax escaped\n   * @type String\n   */\n\n  escape: function (string) {\n    return escapes.reduce(function (accumulator, escape) {\n      return accumulator.replace(escape[0], escape[1])\n    }, string)\n  }\n};\n\n/**\n * Reduces a DOM node down to its Markdown string equivalent\n * @private\n * @param {HTMLElement} parentNode The node to convert\n * @returns A Markdown representation of the node\n * @type String\n */\n\nfunction process (parentNode) {\n  var self = this;\n  return reduce.call(parentNode.childNodes, function (output, node) {\n    node = new Node(node);\n\n    var replacement = '';\n    if (node.nodeType === 3) {\n      replacement = node.isCode ? node.nodeValue : self.escape(node.nodeValue);\n    } else if (node.nodeType === 1) {\n      replacement = replacementForNode.call(self, node);\n    }\n\n    return join(output, replacement)\n  }, '')\n}\n\n/**\n * Appends strings as each rule requires and trims the output\n * @private\n * @param {String} output The conversion output\n * @returns A trimmed version of the ouput\n * @type String\n */\n\nfunction postProcess (output) {\n  var self = this;\n  this.rules.forEach(function (rule) {\n    if (typeof rule.append === 'function') {\n      output = join(output, rule.append(self.options));\n    }\n  });\n\n  return output.replace(/^[\\t\\r\\n]+/, '').replace(/[\\t\\r\\n\\s]+$/, '')\n}\n\n/**\n * Converts an element node to its Markdown equivalent\n * @private\n * @param {HTMLElement} node The node to convert\n * @returns A Markdown representation of the node\n * @type String\n */\n\nfunction replacementForNode (node) {\n  var rule = this.rules.forNode(node);\n  var content = process.call(this, node);\n  var whitespace = node.flankingWhitespace;\n  if (whitespace.leading || whitespace.trailing) content = content.trim();\n  return (\n    whitespace.leading +\n    rule.replacement(content, node, this.options) +\n    whitespace.trailing\n  )\n}\n\n/**\n * Determines the new lines between the current output and the replacement\n * @private\n * @param {String} output The current conversion output\n * @param {String} replacement The string to append to the output\n * @returns The whitespace to separate the current output and the replacement\n * @type String\n */\n\nfunction separatingNewlines (output, replacement) {\n  var newlines = [\n    output.match(trailingNewLinesRegExp)[0],\n    replacement.match(leadingNewLinesRegExp)[0]\n  ].sort();\n  var maxNewlines = newlines[newlines.length - 1];\n  return maxNewlines.length < 2 ? maxNewlines : '\\n\\n'\n}\n\nfunction join (string1, string2) {\n  var separator = separatingNewlines(string1, string2);\n\n  // Remove trailing/leading newlines and replace with separator\n  string1 = string1.replace(trailingNewLinesRegExp, '');\n  string2 = string2.replace(leadingNewLinesRegExp, '');\n\n  return string1 + separator + string2\n}\n\n/**\n * Determines whether an input can be converted\n * @private\n * @param {String|HTMLElement} input Describe this parameter\n * @returns Describe what it returns\n * @type String|Object|Array|Boolean|Number\n */\n\nfunction canConvert (input) {\n  return (\n    input != null && (\n      typeof input === 'string' ||\n      (input.nodeType && (\n        input.nodeType === 1 || input.nodeType === 9 || input.nodeType === 11\n      ))\n    )\n  )\n}\n\nexport default TurndownService;\n","import TurndownService from 'turndown'\n\nconst service = new TurndownService({\n  bulletListMarker: '-'\n})\n\n// As a user may have pasted markdown we rather crudley\n// stop all escaping\nservice.escape = (string) => string\n\n// turndown keeps title attribute attributes of links by default which isn't\n// what is expected in govspeak\nservice.addRule('link', {\n  filter: (node) => {\n    return node.nodeName.toLowerCase() === 'a' && node.getAttribute('href')\n  },\n  replacement: (content, node) => {\n    if (content.trim() === '') {\n      return ''\n    } else {\n      return `[${content}](${node.getAttribute('href')})`\n    }\n  }\n})\n\nservice.addRule('abbr', {\n  filter: (node) => {\n    return node.nodeName.toLowerCase() === 'abbr' && node.getAttribute('title')\n  },\n  replacement: function (content, node) {\n    this.references[content] = node.getAttribute('title')\n    return content\n  },\n  references: {},\n  append: function () {\n    if (Object.keys(this.references).length === 0) {\n      return ''\n    }\n\n    let references = '\\n\\n'\n    for (const abbr in this.references) {\n      references += `*[${abbr}]: ${this.references[abbr]}\\n`\n    }\n    this.references = {} // reset after appending\n    return references\n  }\n})\n\n// Create a govspeak heading rule\nservice.addRule('heading', {\n  filter: ['h1', 'h2', 'h3', 'h4', 'h5', 'h6'],\n  replacement: (content, node) => {\n    let prefix\n    if (node.nodeName.charAt(1) === '2') {\n      prefix = '## '\n    } else if (node.nodeName.charAt(1) === '3') {\n      prefix = '### '\n    } else {\n      prefix = ''\n    }\n\n    return `\\n\\n${prefix}${content}\\n\\n`\n  }\n})\n\n// remove bold\nservice.addRule('bold', {\n  filter: ['b', 'strong'],\n  replacement: (content) => content\n})\n\n// remove italic\nservice.addRule('italic', {\n  filter: ['i', 'em'],\n  replacement: (content) => content\n})\n\n// remove images\nservice.addRule('img', {\n  filter: ['img'],\n  replacement: () => ''\n})\n\nservice.addRule('removeEmptyParagraphs', {\n  filter: (node) => {\n    return node.nodeName.toLowerCase() === 'p' && node.textContent.trim() === ''\n  },\n  replacement: () => ''\n})\n\n// remove style elements\nservice.addRule('style', {\n  filter: ['style'],\n  replacement: () => ''\n})\n\nfunction removeBrParagraphs (govspeak) {\n  // This finds places where we have a br in a paragraph on it's own and\n  // removes it.\n  //\n  // E.g. if we have HTML of <b><p>Text</p><br><p>More text</p></b> (as google\n  // docs can easily produce) which produces govspeak of\n  // \"Text\\n\\n  \\n\\nMore Text\". This regexp can strip this back to be\n  // Text\\n\\nMore Text\n  const regExp = new RegExp(`\\n(${service.options.br}\\n)+\\n?`, 'g')\n  return govspeak.replace(regExp, '\\n')\n}\n\nfunction extractHeadingsFromLists (govspeak) {\n  // This finds instances of headings within ordered lists and replaces them\n  // with the headings only. This only applies to H2 and H3.\n  const headingsInListsRegExp = new RegExp(/\\d\\.\\s{2}(#{2,3})/, 'g')\n  return govspeak.replace(headingsInListsRegExp, '$1')\n}\n\nfunction postProcess (govspeak) {\n  let govspeakWithExtractedHeadings = extractHeadingsFromLists(govspeak)\n  return removeBrParagraphs(govspeakWithExtractedHeadings)\n}\n\nexport default function toGovspeak (html) {\n  const govspeak = service.turndown(html)\n  return postProcess(govspeak)\n}\n","let browserSupportsTextareaTextNodes;\r\n\r\n/**\r\n * @param {HTMLElement} input\r\n * @return {boolean}\r\n */\r\nfunction canManipulateViaTextNodes(input) {\r\n  if (input.nodeName !== \"TEXTAREA\") {\r\n    return false;\r\n  }\r\n  if (typeof browserSupportsTextareaTextNodes === \"undefined\") {\r\n    const textarea = document.createElement(\"textarea\");\r\n    textarea.value = 1;\r\n    browserSupportsTextareaTextNodes = !!textarea.firstChild;\r\n  }\r\n  return browserSupportsTextareaTextNodes;\r\n}\r\n\r\n/**\r\n * @param {HTMLTextAreaElement|HTMLInputElement} input\r\n * @param {string} text\r\n * @returns {void}\r\n */\r\nexport default function(input, text) {\r\n  // Most of the used APIs only work with the field selected\r\n  input.focus();\r\n\r\n  // IE 8-10\r\n  if (document.selection) {\r\n    const ieRange = document.selection.createRange();\r\n    ieRange.text = text;\r\n\r\n    // Move cursor after the inserted text\r\n    ieRange.collapse(false /* to the end */);\r\n    ieRange.select();\r\n\r\n    return;\r\n  }\r\n\r\n  // Webkit + Edge\r\n  const isSuccess = document.execCommand(\"insertText\", false, text);\r\n  if (!isSuccess) {\r\n    const start = input.selectionStart;\r\n    const end = input.selectionEnd;\r\n    // Firefox (non-standard method)\r\n    if (typeof input.setRangeText === \"function\") {\r\n      input.setRangeText(text);\r\n    } else {\r\n      if (canManipulateViaTextNodes(input)) {\r\n        const textNode = document.createTextNode(text);\r\n        let node = input.firstChild;\r\n\r\n        // If textarea is empty, just insert the text\r\n        if (!node) {\r\n          input.appendChild(textNode);\r\n        } else {\r\n          // Otherwise we need to find a nodes for start and end\r\n          let offset = 0;\r\n          let startNode = null;\r\n          let endNode = null;\r\n\r\n          // To make a change we just need a Range, not a Selection\r\n          const range = document.createRange();\r\n\r\n          while (node && (startNode === null || endNode === null)) {\r\n            const nodeLength = node.nodeValue.length;\r\n\r\n            // if start of the selection falls into current node\r\n            if (start >= offset && start <= offset + nodeLength) {\r\n              range.setStart((startNode = node), start - offset);\r\n            }\r\n\r\n            // if end of the selection falls into current node\r\n            if (end >= offset && end <= offset + nodeLength) {\r\n              range.setEnd((endNode = node), end - offset);\r\n            }\r\n\r\n            offset += nodeLength;\r\n            node = node.nextSibling;\r\n          }\r\n\r\n          // If there is some text selected, remove it as we should replace it\r\n          if (start !== end) {\r\n            range.deleteContents();\r\n          }\r\n\r\n          // Finally insert a new node. The browser will automatically\r\n          // split start and end nodes into two if necessary\r\n          range.insertNode(textNode);\r\n        }\r\n      } else {\r\n        // For the text input the only way is to replace the whole value :(\r\n        const value = input.value;\r\n        input.value = value.slice(0, start) + text + value.slice(end);\r\n      }\r\n    }\r\n\r\n    // Correct the cursor position to be at the end of the insertion\r\n    input.setSelectionRange(start + text.length, start + text.length);\r\n\r\n    // Notify any possible listeners of the change\r\n    const e = document.createEvent(\"UIEvent\");\r\n    e.initEvent(\"input\", true, false);\r\n    input.dispatchEvent(e);\r\n  }\r\n}\r\n","// This file provides a technique to maintain html that is pasted in legacy\n// browsers, such as Internet Explorer that lack support for\n// clipboardData.getData('text/html') on a paste event.\n// This involves creating a hidden element, pasting into that, acessing the\n// innerHTML of that element before finally removing it.\n// This approach is explained more thoroughly in: https://www.lucidchart.com/techblog/2014/12/02/definitive-guide-copying-pasting-javascript/\nfunction createHiddenElement () {\n  let hiddenElement = document.createElement('div')\n  hiddenElement.setAttribute('contenteditable', true)\n  hiddenElement.setAttribute('style', 'position: absolute; top:0; left: 0; opacity: 0;')\n  document.body.appendChild(hiddenElement)\n  return hiddenElement\n}\n\nfunction removeElement (node) {\n  if (node.parentNode) {\n    node.parentNode.removeChild(node)\n  }\n}\n\nfunction getHtmlUsingHiddenElement (hiddenElement) {\n  hiddenElement.focus()\n  document.execCommand('paste')\n  return hiddenElement.innerHTML\n}\n\nexport default function legacyHtmlFromPaste () {\n  const hiddenElement = createHiddenElement()\n  const html = getHtmlUsingHiddenElement(hiddenElement)\n  removeElement(hiddenElement)\n  return html\n}\n","import toGovspeak from './to-govspeak'\nimport insertTextAtCursor from 'insert-text-at-cursor'\nimport legacyHtmlFromPaste from './legacy-html-from-paste'\n\nfunction htmlFromPasteEvent (event) {\n  // Modern browsers\n  if (event.clipboardData) {\n    return event.clipboardData.getData('text/html')\n  } else {\n    // IE doesn't support event.clipboardData, whereas it's supported by most\n    // other major browsers\n    return legacyHtmlFromPaste()\n  }\n}\n\nfunction textFromPasteEvent (event) {\n  if (event.clipboardData) {\n    return event.clipboardData.getData('text/plain')\n  } else if (window.clipboardData) {\n    return window.clipboardData.getData('Text')\n  }\n}\n\nfunction triggerPasteEvent (element, eventName, detail) {\n  let params = { bubbles: false, cancelable: false, detail: detail || null }\n  let event\n\n  if (typeof window.CustomEvent === 'function') {\n    event = new window.CustomEvent(eventName, params)\n  } else {\n    event = document.createEvent('CustomEvent')\n    event.initCustomEvent(eventName, params.bubbles, params.cancelable, params.detail)\n  }\n\n  element.dispatchEvent(event)\n}\n\nexport default function pasteHtmlToGovspeak (event) {\n  const element = event.target\n\n  const html = htmlFromPasteEvent(event)\n  triggerPasteEvent(element, 'htmlpaste', html)\n\n  const text = textFromPasteEvent(event)\n  triggerPasteEvent(element, 'textpaste', text)\n\n  if (html && html.length) {\n    const govspeak = toGovspeak(html)\n    triggerPasteEvent(element, 'govspeak', govspeak)\n\n    insertTextAtCursor(element, govspeak)\n    event.preventDefault()\n  }\n}\n"],"names":["service","TurndownService","bulletListMarker","escape","string","addRule","filter","node","nodeName","toLowerCase","getAttribute","replacement","content","trim","references","append","Object","keys","length","abbr","prefix","charAt","textContent","removeBrParagraphs","govspeak","regExp","RegExp","options","br","replace","extractHeadingsFromLists","headingsInListsRegExp","postProcess","govspeakWithExtractedHeadings","toGovspeak","html","turndown","createHiddenElement","hiddenElement","document","createElement","setAttribute","body","appendChild","removeElement","parentNode","removeChild","getHtmlUsingHiddenElement","focus","execCommand","innerHTML","legacyHtmlFromPaste","htmlFromPasteEvent","event","clipboardData","getData","textFromPasteEvent","window","triggerPasteEvent","element","eventName","detail","params","bubbles","cancelable","CustomEvent","createEvent","initCustomEvent","dispatchEvent","pasteHtmlToGovspeak","target","text","insertTextAtCursor","preventDefault"],"mappings":"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"}